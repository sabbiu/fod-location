<style type="text/css">
	#map-canvas {
	    width: auto;
	    height: 700px;
	}

	div {
	    cursor: default !important;
	}
	#info {
	    position: absolute;
	    font-family: arial, sans-serif;
	    font-size: 18px;
	    font-weight: bold;
	}

</style>

<body>
    <h3>Drag or re-shape for coordinates to display below</h3>
    <div id="map-canvas">
    </div>
    <br/>
    <br/>
    <br/>
    <br/>
    <div id="info">
    </div>
</body>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBP1aXitN1GttHhSxskygwtpG8kLnnbwAs&callback=initialize">
</script>
<script type="text/javascript">
var prev_loc = [
[27.67026569, 85.30712507], //zoo min
[27.67532055, 85.31407735], //zoo max
[27.682845335, 85.31252167], //mean
  [
    27.679551384508493,
    85.32400846481323
  ],
  [
    27.68686692672062,
    85.3258752822876
  ],
  [
    27.688576982801756,
    85.3172492980957
  ],
  [
    27.68622089856461,
    85.31235694885254
  ],
  [
    27.684890828561496,
    85.31521081924438
  ],
  [
    27.68652491229059,
    85.31677722930908
  ],
  [
    27.687759959348572,
    85.31759262084961
  ],
  [
    27.68663891721963,
    85.3187084197998
  ],
  [
    27.68441579963428,
    85.3204894065857
  ],
  [
    27.68502383629082,
    85.3179144859314
  ],
  [
    27.686182896789326,
    85.31748533248901
  ],
  [
    27.686239899447273,
    85.31855821609497
  ],
  [
    27.685270850215502,
    85.31941652297974
  ],
  [
    27.68585988116562,
    85.31834363937378
  ],
  [
    27.68597388678899,
    85.31851530075073
  ],
  [
    27.688481980388758,
    85.30821561813354
  ],
  [
    27.69190201517862,
    85.31059741973877
  ],
  [
    27.68916599591736,
    85.31609058380127
  ],
  [
    27.688576982801756,
    85.31641244888306
  ],
  [
    27.687626954951984,
    85.31688451766968
  ],
  [
    27.685365855422372,
    85.3149962425232
  ],
  [
    27.686391906389623,
    85.3126573562622
  ],
  [
    27.688177972111657,
    85.31632661819458
  ],
  [
    27.68646790978144,
    85.3144383430481
  ],
  [
    27.686790923606527,
    85.3142237663269
  ],
  [
    27.686752922029637,
    85.31227111816406
  ],
  [
    27.687474949728912,
    85.31418085098267
  ],
  [
    27.68850098087798,
    85.31162738800049
  ],
  [
    27.68910899478699,
    85.31167030334473
  ]
]
var bermudaTriangle;
var locations = [];
function initialize() {
    var myLatLng = new google.maps.LatLng(27.681077, 85.317378);
    var mapOptions = {
        zoom: 15,
        center: myLatLng,
        mapTypeId: google.maps.MapTypeId.RoadMap
    };

    var map = new google.maps.Map(document.getElementById('map-canvas'),
                                  mapOptions);

    prev_loc.forEach(function(location, idx){

	    var marker = new google.maps.Marker({
	          position: {lat: location[0], lng: location[1]},
	          map: map,
	          title: idx + ''
	        });
    })
    var bhatti = [
        new google.maps.LatLng(27.6862276, 85.31708142),
        new google.maps.LatLng(27.68634161, 85.31862638),
        new google.maps.LatLng(27.68485953, 85.3200855)
    ];

    var acem = [
    	new google.maps.LatLng(27.6892487, 85.31624458),
    	new google.maps.LatLng(27.69209872, 85.31055829),
    	new google.maps.LatLng(27.68848868, 85.30789754),
    	new google.maps.LatLng(27.68504954, 85.31508586),
    	new google.maps.LatLng(27.68744365, 85.3171458),
    ];

    var himalayanhotel = [
    	new google.maps.LatLng(27.68875469, 85.31723163),
    	new google.maps.LatLng(27.6862656, 85.31218908),
    	new google.maps.LatLng(27.67934906, 85.32411954),
    	new google.maps.LatLng(27.68694963, 85.32605073),
    ];

    var zoo = [
    	new google.maps.LatLng(27.67155793, 85.30712507),
    	new google.maps.LatLng(27.67532055, 85.31068704),
    	new google.maps.LatLng(27.67304019, 85.31407735),
    	new google.maps.LatLng(27.67026569,85.3119745),
	];
    var coords = [bhatti, acem, himalayanhotel, zoo]

    coords.forEach(function(item){

	    // Construct the polygon
	    bermudaTriangle = new google.maps.Polygon({
	        paths: item,
	        clickable: false,
	        // draggable: true,
	        // editable: true,
	        strokeColor: '#FF0000',
	        strokeOpacity: 0.8,
	        strokeWeight: 2,
	        fillColor: '#FF0000',
	        fillOpacity: 0.35
	    });

	    bermudaTriangle.setMap(map);
    })
    // google.maps.event.addListener(bermudaTriangle, "dragend", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "insert_at", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "remove_at", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "set_at", getPolygonCoords);
    google.maps.event.addListener(map, "click", function (e) {

	    //lat and lng is available in e object
	    var latLng = e.latLng;
	    str = latLng.lat() +', '+ latLng.lng()
	    arr = [latLng.lat(), latLng.lng()]
	    document.getElementById('info').innerHTML = str
	    console.log(str)
	    locations.push(arr)
	    console.log(arr)

	});
}

function getPolygonCoords() {
    var len = bermudaTriangle.getPath().getLength();
    var htmlStr = "";
    for (var i = 0; i < len; i++) {
        htmlStr += bermudaTriangle.getPath().getAt(i).toUrlValue(5) + "<br>";
    }
    document.getElementById('info').innerHTML = htmlStr;
}
</script>
