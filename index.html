<style type="text/css">
	#map-canvas {
	    width: auto;
	    height: 700px;
	}

	div {
	    cursor: default !important;
	}
	#info {
	    position: absolute;
	    font-family: arial, sans-serif;
	    font-size: 18px;
	    font-weight: bold;
	}

</style>

<body>
    <h3>Drag or re-shape for coordinates to display below</h3>
    <div id="map-canvas">
    </div>
    <br/>
    <br/>
    <br/>
    <br/>
    <div id="info">
    </div>
</body>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBP1aXitN1GttHhSxskygwtpG8kLnnbwAs&callback=initialize">
</script>
<script type="text/javascript">
var prev_loc = [
[27.67026569, 85.30712507], //zoo min
[27.67532055, 85.31407735], //zoo max
[27.682845335, 85.31252167], //mean

  [
    27.691839671753126,
    85.30750751495361
  ],
  [
    27.692143669834316,
    85.30935287475586
  ],
  [
    27.691877671559567,
    85.31068325042725
  ],
  [
    27.692143669834316,
    85.31252861022949
  ],
  [
    27.691725672254414,
    85.31587600708008
  ],
  [
    27.691041672762378,
    85.31999588012695
  ],
  [
    27.69119367301984,
    85.32411575317383
  ],
  [
    27.69119367301984,
    85.32780647277832
  ],
  [
    27.69077567180258,
    85.30561923980713
  ],
  [
    27.690737671612563,
    85.3077220916748
  ],
  [
    27.690623670963152,
    85.30982494354248
  ],
  [
    27.690623670963152,
    85.31162738800049
  ],
  [
    27.690205667563497,
    85.31415939331055
  ],
  [
    27.69024366793867,
    85.31647682189941
  ],
  [
    27.68982566308413,
    85.3221845626831
  ],
  [
    27.689787662563436,
    85.32557487487793
  ],
  [
    27.68670957646487,
    85.32527446746826
  ],
  [
    27.68758360973416,
    85.32209873199463
  ],
  [
    27.688077625443746,
    85.31802177429199
  ],
  [
    27.688191628751646,
    85.31639099121094
  ],
  [
    27.688837645247894,
    85.3157901763916
  ],
  [
    27.690281668300646,
    85.31162738800049
  ],
  [
    27.68974966202954,
    85.30905246734619
  ],
  [
    27.689901664085795,
    85.3057050704956
  ],
  [
    27.687469605791446,
    85.30656337738037
  ],
  [
    27.688267630890756,
    85.30866622924805
  ],
  [
    27.68784961847092,
    85.31167030334473
  ],
  [
    27.68731760034935,
    85.31373023986816
  ],
  [
    27.68716559469563,
    85.3148889541626
  ],
  [
    27.686671574859663,
    85.31720638275146
  ],
  [
    27.68632955981777,
    85.31866550445557
  ],
  [
    27.686139550998284,
    85.32235622406006
  ],
  [
    27.684771477737907,
    85.3242015838623
  ],
  [
    27.68602554554789,
    85.31832218170166
  ],
  [
    27.68545551651053,
    85.31935214996338
  ],
  [
    27.68169325023781,
    85.32338619232178
  ],
  [
    27.683935424530283,
    85.31819343566895
  ],
  [
    27.685303508264685,
    85.31420230865479
  ],
  [
    27.686253556329646,
    85.31330108642578
  ],
  [
    27.68777361604083,
    85.30982494354248
  ],
  [
    27.686747578056828,
    85.30699253082275
  ],
  [
    27.68450546150249,
    85.31076908111572
  ],
  [
    27.680097098117574,
    85.31355857849121
  ],
  [
    27.676676693601085,
    85.30729293823242
  ],
  [
    27.674054310941543,
    85.30596256256104
  ],
  [
    27.672039974270085,
    85.30823707580566
  ],
  [
    27.67117650608259,
    85.31325817108154
  ],
  [
    27.67117650608259,
    85.31325817108154
  ],
  [
    27.67112780959914,
    85.3143310546875
  ],
  [
    27.671925954102655,
    85.3123140335083
  ],
  [
    27.67276209923398,
    85.31278610229492
  ],
  [
    27.674320352631145,
    85.31102657318115
  ],
  [
    27.6733048775205,
    85.31068325042725
  ],
  [
    27.675308501806295,
    85.31712055206299
  ],
  [
    27.672496053749928,
    85.30978202819824
  ],
  [
    27.67261007332242,
    85.31334400177002
  ],
  [
    27.672382034058433,
    85.31965255737305
  ],
  [
    27.676600683395378,
    85.32754898071289
  ],
  [
    27.677968859006334,
    85.33707618713379
  ],
  [
    27.688229629827816,
    85.33969402313232
  ],
  [
    27.682757338692124,
    85.29845237731934
  ]

]
var bermudaTriangle;
var locations = [];
function initialize() {
    var myLatLng = new google.maps.LatLng(27.681077, 85.317378);
    var mapOptions = {
        zoom: 15,
        center: myLatLng,
        mapTypeId: google.maps.MapTypeId.RoadMap
    };

    var map = new google.maps.Map(document.getElementById('map-canvas'),
                                  mapOptions);

    prev_loc.forEach(function(location, idx){

	    var marker = new google.maps.Marker({
	          position: {lat: location[0], lng: location[1]},
	          map: map,
	          title: idx + ''
	        });
    })
    var bhatti = [
        new google.maps.LatLng(27.6862276, 85.31708142),
        new google.maps.LatLng(27.68634161, 85.31862638),
        new google.maps.LatLng(27.68485953, 85.3200855)
    ];

    var acem = [
    	new google.maps.LatLng(27.6892487, 85.31624458),
    	new google.maps.LatLng(27.69209872, 85.31055829),
    	new google.maps.LatLng(27.68848868, 85.30789754),
    	new google.maps.LatLng(27.68504954, 85.31508586),
    	new google.maps.LatLng(27.68744365, 85.3171458),
    ];

    var himalayanhotel = [
    	new google.maps.LatLng(27.68875469, 85.31723163),
    	new google.maps.LatLng(27.6862656, 85.31218908),
    	new google.maps.LatLng(27.67934906, 85.32411954),
    	new google.maps.LatLng(27.68694963, 85.32605073),
    ];

    var zoo = [
    	new google.maps.LatLng(27.67155793, 85.30712507),
    	new google.maps.LatLng(27.67532055, 85.31068704),
    	new google.maps.LatLng(27.67304019, 85.31407735),
    	new google.maps.LatLng(27.67026569,85.3119745),
	];
    var coords = [bhatti, acem, himalayanhotel, zoo]

    coords.forEach(function(item){

	    // Construct the polygon
	    bermudaTriangle = new google.maps.Polygon({
	        paths: item,
	        clickable: false,
	        // draggable: true,
	        // editable: true,
	        strokeColor: '#FF0000',
	        strokeOpacity: 0.8,
	        strokeWeight: 2,
	        fillColor: '#FF0000',
	        fillOpacity: 0.35
	    });

	    bermudaTriangle.setMap(map);
    })
    // google.maps.event.addListener(bermudaTriangle, "dragend", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "insert_at", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "remove_at", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "set_at", getPolygonCoords);
    google.maps.event.addListener(map, "click", function (e) {

	    //lat and lng is available in e object
	    var latLng = e.latLng;
	    str = latLng.lat() +', '+ latLng.lng()
	    arr = [latLng.lat(), latLng.lng()]
	    document.getElementById('info').innerHTML = str
	    console.log(str)
	    locations.push(arr)
	    console.log(arr)

	});
}

function getPolygonCoords() {
    var len = bermudaTriangle.getPath().getLength();
    var htmlStr = "";
    for (var i = 0; i < len; i++) {
        htmlStr += bermudaTriangle.getPath().getAt(i).toUrlValue(5) + "<br>";
    }
    document.getElementById('info').innerHTML = htmlStr;
}
</script>
