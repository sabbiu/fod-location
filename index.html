<style type="text/css">
	#map-canvas {
	    width: auto;
	    height: 700px;
	    cursor: pointer !important;
	}
	#info {
	    position: absolute;
	    font-family: arial, sans-serif;
	    font-size: 18px;
	    font-weight: bold;
	}

</style>

<body>
    <h3>Drag or re-shape for coordinates to display below</h3>
    <div id="map-canvas">
    </div>
    <div id="info">
    </div>
</body>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBP1aXitN1GttHhSxskygwtpG8kLnnbwAs&callback=initialize">
</script>
<script type="text/javascript">
var bermudaTriangle;
function initialize() {
    var myLatLng = new google.maps.LatLng(27.681077, 85.317378);
    var mapOptions = {
        zoom: 15,
        center: myLatLng,
        mapTypeId: google.maps.MapTypeId.RoadMap
    };

    var map = new google.maps.Map(document.getElementById('map-canvas'),
                                  mapOptions);


    var bhatti = [
        new google.maps.LatLng(27.6862276, 85.31708142),
        new google.maps.LatLng(27.68634161, 85.31862638),
        new google.maps.LatLng(27.68485953, 85.3200855)
    ];

    var acem = [
    	new google.maps.LatLng(27.6892487, 85.31624458),
    	new google.maps.LatLng(27.69209872, 85.31055829),
    	new google.maps.LatLng(27.68848868, 85.30789754),
    	new google.maps.LatLng(27.68504954, 85.31508586),
    	new google.maps.LatLng(27.68744365, 85.3171458),
    ];

    var himalayanhotel = [
    	new google.maps.LatLng(27.68875469, 85.31723163),
    	new google.maps.LatLng(27.6862656, 85.31218908),
    	new google.maps.LatLng(27.67934906, 85.32411954),
    	new google.maps.LatLng(27.68694963, 85.32605073),
    ];

    var zoo = [
    	new google.maps.LatLng(27.67155793, 85.30712507),
    	new google.maps.LatLng(27.67532055, 85.31068704),
    	new google.maps.LatLng(27.67304019, 85.31407735),
    	new google.maps.LatLng(27.67026569,85.3119745),
	];
    var coords = [bhatti, acem, himalayanhotel, zoo]

    coords.forEach(function(item){

	    // Construct the polygon
	    bermudaTriangle = new google.maps.Polygon({
	        paths: item,
	        clickable: false,
	        // draggable: true,
	        // editable: true,
	        strokeColor: '#FF0000',
	        strokeOpacity: 0.8,
	        strokeWeight: 2,
	        fillColor: '#FF0000',
	        fillOpacity: 0.35
	    });

	    bermudaTriangle.setMap(map);
    })
    // google.maps.event.addListener(bermudaTriangle, "dragend", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "insert_at", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "remove_at", getPolygonCoords);
    // google.maps.event.addListener(bermudaTriangle.getPath(), "set_at", getPolygonCoords);
    google.maps.event.addListener(map, "click", function (e) {

	    //lat and lng is available in e object
	    var latLng = e.latLng;
	    console.log(latLng.lat(), latLng.lng())
	    str = latLng.lat() +', '+ latLng.lng()
	    document.getElementById('info').innerHTML = str

	});
}

function getPolygonCoords() {
    var len = bermudaTriangle.getPath().getLength();
    var htmlStr = "";
    for (var i = 0; i < len; i++) {
        htmlStr += bermudaTriangle.getPath().getAt(i).toUrlValue(5) + "<br>";
    }
    document.getElementById('info').innerHTML = htmlStr;
}
</script>
